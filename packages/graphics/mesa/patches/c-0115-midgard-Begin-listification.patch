From a666f16180387772ef04f09c981112bc79775957 Mon Sep 17 00:00:00 2001
From: Alyssa Rosenzweig <alyssa@rosenzweig.io>
Date: Fri, 16 Nov 2018 10:27:08 -0800
Subject: [PATCH 115/151] midgard: Begin listification

---
 src/gallium/drivers/panfrost/midgard/midgard_compile.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/gallium/drivers/panfrost/midgard/midgard_compile.c b/src/gallium/drivers/panfrost/midgard/midgard_compile.c
index c2fb5d6..767d476 100644
--- a/src/gallium/drivers/panfrost/midgard/midgard_compile.c
+++ b/src/gallium/drivers/panfrost/midgard/midgard_compile.c
@@ -37,6 +37,7 @@
 #include "util/half_float.h"
 #include "util/register_allocate.h"
 #include "util/u_dynarray.h"
+#include "util/list.h"
 #include "main/mtypes.h"
 
 #include "midgard.h"
@@ -96,6 +97,8 @@ typedef struct midgard_branch {
  */
 
 typedef struct midgard_instruction {
+        struct list_head node;
+
         unsigned type; /* ALU, load/store, texture */
 
         /* If the register allocator has not run yet... */
-- 
2.7.4

