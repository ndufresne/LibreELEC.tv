From 55fc3f9972b1d8b4e9ad45df6a0a4ec962e485a9 Mon Sep 17 00:00:00 2001
From: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date: Tue, 4 Dec 2018 08:31:55 +0100
Subject: [PATCH 135/151] panfrost: add stubs for flush_resource and
 invalidate_resource

Signed-off-by: Tomeu Vizoso <tomeu.vizoso@collabora.com>
---
 src/gallium/drivers/panfrost/pan_context.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/src/gallium/drivers/panfrost/pan_context.c b/src/gallium/drivers/panfrost/pan_context.c
index 0d631e9..bb62bfe 100644
--- a/src/gallium/drivers/panfrost/pan_context.c
+++ b/src/gallium/drivers/panfrost/pan_context.c
@@ -2804,6 +2804,18 @@ panfrost_setup_framebuffer(struct panfrost_context *ctx, int width, int height)
 }
 
 static void
+panfrost_flush_resource(struct pipe_context *pctx, struct pipe_resource *prsc)
+{
+        fprintf(stderr, "TODO %s\n", __func__);
+}
+
+static void
+panfrost_invalidate_resource(struct pipe_context *pctx, struct pipe_resource *prsc)
+{
+        fprintf(stderr, "TODO %s\n", __func__);
+}
+
+static void
 panfrost_setup_hardware(struct panfrost_context *ctx)
 {
         struct pipe_context *gallium = (struct pipe_context *) ctx;
@@ -2933,6 +2945,9 @@ panfrost_create_context(struct pipe_screen *screen, void *priv, unsigned flags)
 
         gallium->blit = panfrost_blit;
 
+        gallium->flush_resource = panfrost_flush_resource;
+        gallium->invalidate_resource = panfrost_invalidate_resource;
+
         /* XXX: leaks */
         gallium->stream_uploader = u_upload_create_default(gallium);
         gallium->const_uploader = gallium->stream_uploader;
-- 
2.7.4

