#!/bin/bash

# SPDX-License-Identifier: GPL-2.0-or-later
# Copyright (C) 2018-present Team LibreELEC (https://libreelec.tv)

COMPATIBLE=$(cat /proc/device-tree/compatible | tr -d '\000' | sed -n -e 's/.*\(allwinner\|amlogic\|rockchip\).*/\1/p')

if [ -n "$COMPATIBLE" ]; then
  DTNAME=$(cat /proc/device-tree/compatible | sed -r "s/(.*$COMPATIBLE).*/\1/; s/$COMPATIBLE//")
  echo "$DTNAME"
else
  echo "unknown"
fi
